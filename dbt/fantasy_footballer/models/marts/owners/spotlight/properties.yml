version: 2

models:
  - name: season_overview
    description: Comprehensive season overview model combining team performance metrics, clutch records, and weekly averages
    columns:
      - name: owner_id
        description: Unique identifier for the team owner
        data_type: int
        tests:
          - not_null
      - name: year
        description: Season year
        data_type: int
        tests:
          - not_null
      - name: record
        description: Overall season record in W-L format (e.g., 10-4)
        data_type: varchar
      - name: acquisitions
        description: Total number of player acquisitions (waiver pickups and free agent adds)
        data_type: int
      - name: budget
        description: Remaining FAAB (Free Agent Acquisition Budget) after spending
        data_type: int
      - name: standing
        description: Current league standing
        data_type: int
      - name: trades
        description: Total number of trades completed
        data_type: int
      - name: streak
        description: Current streak in format of type + length (e.g., W3, L2)
        data_type: varchar
      - name: clutch_record
        description: Record in clutch games (decided by less than 10 points) in W-L format
        data_type: varchar
      - name: shotguns
        description: Number of shotgun weeks (scored under 100 points or had lowest score in league)
        data_type: int
      - name: points_for
        description: Total points scored by the team in regular season, rounded to 2 decimal places
        data_type: double
      - name: points_for_per_week
        description: Average points scored per week in regular season, rounded to 2 decimal places
        data_type: double
      - name: points_against
        description: Total points scored against the team in regular season, rounded to 2 decimal places
        data_type: double
      - name: points_against_per_week
        description: Average points scored against per week in regular season, rounded to 2 decimal places
        data_type: double

  - name: season_schedule
    description: Model containing weekly schedule with matchup results, including clutch game and shotgun indicators for regular season games
    columns:
      - name: owner_id
        description: Unique identifier for the team owner
        data_type: int
        tests:
          - not_null
      - name: year
        description: Season year
        data_type: int
        tests:
          - not_null
      - name: Week
        description: Week number of the matchup
        data_type: int
        tests:
          - not_null
      - name: Team_Name
        description: Name of the opponent's team
        data_type: varchar
      - name: Owner
        description: Display name of the opponent owner
        data_type: varchar
      - name: Outcome
        description: Result of the matchup (W for win, L for loss, T for tie, U for unplayed, Wcw for clutch win, Lcl for clutch loss)
        data_type: varchar
      - name: Points_For
        description: Points scored by the team (includes 'sg' suffix for shotgun weeks, empty string for unplayed games)
        data_type: varchar
      - name: Points_Against
        description: Points scored by the opponent (empty string for unplayed games)
        data_type: varchar